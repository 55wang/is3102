<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:em="http://xmlns.jcp.org/jsf/composite/emcomp"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <!--shift + ctrl + F, format-->
    <script>
    function calculateMaxHDBLoan() {
        var age = document.getElementById("in_age");
        var salary = document.getElementById("in_salary");
        var otherHDBLoan = document.getElementById("in_otherHDBLoan");
        var otherLoan = document.getElementById("in_otherLoan");
        
        var maxHDBLoanValue = "#{localCalculationManagedBean.maxHDBLoan(salary,age,otherHDBLoan,otherLoan)}";
        document.getElementById("out_maxHDBLoan").innerHTML = maxHDBLoanValue;
        alert(maxHDBLoanValue);
    }
</script>
    <f:view>
        <h:head>
            <title>Merlion Bank</title>
            <em:cssImport></em:cssImport>
        </h:head>
        <h:body>
            <em:customerHeader context="main" userName="Log in"></em:customerHeader>
            <em:customerNavBar context="main" mainPage="index"></em:customerNavBar>
            <div class="customer_main_container">
               
                <p:panel>
                    <p:messages />
                    <h:panelGrid columns="2" columnClasses="label, value">
                        
                        <h:outputText value="Age: " />
                        <p:inputText id="in_age" onchange="calculateMaxHDBLoan()"  required="true" requiredMessage="Age is required." >                 
                        </p:inputText>

                        <h:outputText value="Monthly Salary: " />
                        <p:inputText id="in_salary" onchange="calculateMaxHDBLoan()"  required="true" requiredMessage="Monthly salary is required." >                 
                        </p:inputText>

                        <h:outputText value="Other HDB loans: " />
                        <p:inputText id="in_otherHDBLoan" onchange="calculateMaxHDBLoan()"  required="true" requiredMessage="Other HDB loans is required." >                 
                        </p:inputText>

                        <h:outputText value="Other commitments: " />
                        <p:inputText id="in_otherLoan" onchange="calculateMaxHDBLoan()"  required="true" requiredMessage="Other financial commitments is required." >                 
                        </p:inputText>
                        
                        <h:outputText value="Maximum HDB Loan Amount: " />
                        <h:outputText id="out_maxHDBLoan"  styleClass="outputLabel"/>
                        
                        
                         
                    </h:panelGrid>
                </p:panel>
              
            </div>

        </h:body>
    </f:view>


</html>

